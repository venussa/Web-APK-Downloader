/*!
 * TouchSlide v1.1
 * http://www.SuperSlide2.com/TouchSlide/
 */

var TouchSlide=function(af){af=af||{};var H={slideCell:af.slideCell||"#touchSlide",titCell:af.titCell||".hd li",mainCell:af.mainCell||".bd",effect:af.effect||"left",autoPlay:af.autoPlay||false,noTouch:af.noTouch||false,delayTime:af.delayTime||200,interTime:af.interTime||2500,defaultIndex:af.defaultIndex||0,titOnClassName:af.titOnClassName||"on",autoPage:af.autoPage||false,prevCell:af.prevCell||".prev",nextCell:af.nextCell||".next",pageStateCell:af.pageStateCell||".pageState",pnLoop:af.pnLoop=="undefined "?true:af.pnLoop,startFun:af.startFun||null,endFun:af.endFun||null,switchLoad:af.switchLoad||null};var g=document.getElementById(H.slideCell.replace("#",""));if(!g){return false}var d=function(am,ai){am=am.split(" ");var al=[];ai=ai||document;var ag=[ai];for(var ak in am){if(am[ak].length!=0){al.push(am[ak])}}for(var ak in al){if(ag.length==0){return false}var an=[];for(var a in ag){if(al[ak][0]=="#"){an.push(document.getElementById(al[ak].replace("#","")))}else{if(al[ak][0]=="."){var ao=ag[a].getElementsByTagName("*");for(var aj=0;aj<ao.length;aj++){var ah=ao[aj].className;if(ah&&ah.search(new RegExp("\\b"+al[ak].replace(".","")+"\\b"))!=-1){an.push(ao[aj])}}}else{var ao=ag[a].getElementsByTagName(al[ak]);for(var aj=0;aj<ao.length;aj++){an.push(ao[aj])}}}}ag=an}return ag.length==0||ag[0]==ai?false:ag};var W=function(ag,a){var i=document.createElement("div");i.innerHTML=a;i=i.children[0];var ah=ag.cloneNode(true);i.appendChild(ah);ag.parentNode.replaceChild(i,ag);T=ah;return i};var U=function(ag,a){var i=0;if(ag.currentStyle){i=ag.currentStyle[a]}else{i=getComputedStyle(ag,false)[a]}return parseInt(i.replace("px",""))};var F=function(i,a){if(!i||!a||(i.className&&i.className.search(new RegExp("\\b"+a+"\\b"))!=-1)){return}i.className+=(i.className?" ":"")+a};var u=function(i,a){if(!i||!a||(i.className&&i.className.search(new RegExp("\\b"+a+"\\b"))==-1)){return}i.className=i.className.replace(new RegExp("\\s*\\b"+a+"\\b","g"),"")};var Z=H.effect;var r=d(H.prevCell,g)[0];var G=d(H.nextCell,g)[0];var E=d(H.pageStateCell)[0];var T=d(H.mainCell,g)[0];if(!T){return false}var h=T.children.length;var y=d(H.titCell,g);var p=y?y.length:h;var l=H.switchLoad;var J=parseInt(H.defaultIndex);var x=parseInt(H.delayTime);var s=parseInt(H.interTime);var V=(H.autoPlay=="false"||H.autoPlay==false)?false:true;var t=(H.autoPage=="false"||H.autoPage==false)?false:true;var m=(H.noTouch=="false"||H.noTouch==false)?false:true;var f=(H.pnLoop=="false"||H.pnLoop==false)?false:true;var ad=J;var Y=null;var aa=null;var D=null;var C=0;var z=0;var N=0;var L=0;var k=0;var P=(/hp-tablet/gi).test(navigator.appVersion);var v="ontouchstart" in window&&!P;var R=v?"touchstart":"mousedown";var q=v?"touchmove":"";var w=v?"touchend":"mouseup";var I=0;var B=T.parentNode.clientWidth;var S;var c;var ae=h;if(p==0){p=h}if(t){p=h;y=y[0];y.innerHTML="";var K="";if(H.autoPage==true||H.autoPage=="true"){for(var ac=0;ac<p;ac++){K+="<li>"+(ac+1)+"</li>"}}else{for(var ac=0;ac<p;ac++){K+=H.autoPage.replace("$",(ac+1))}}y.innerHTML=K;y=y.children}if(Z=="leftLoop"){ae+=2;T.appendChild(T.children[0].cloneNode(true));T.insertBefore(T.children[h-1].cloneNode(true),T.children[0])}S=W(T,'<div class="tempWrap" style="overflow:hidden; position:relative;"></div>');T.style.cssText="width:"+ae*B+"px;position:relative;overflow:hidden;padding:0;margin:0;";for(var ac=0;ac<ae;ac++){T.children[ac].style.cssText="display:table-cell;vertical-align:top;width:"+B+"px"}var ab=function(){if(typeof H.startFun=="function"){H.startFun(J,p)}};var n=function(){if(typeof H.endFun=="function"){H.endFun(J,p)}};var b=function(a){var i=(Z=="leftLoop"?J+1:J)+a;var ag=function(aj){var ah=T.children[aj].getElementsByTagName("img");for(var ai=0;ai<ah.length;ai++){if(ah[ai].getAttribute(l)){ah[ai].setAttribute("src",ah[ai].getAttribute(l));ah[ai].removeAttribute(l)}}};ag(i);if(Z=="leftLoop"){switch(i){case 0:ag(h);break;case 1:ag(h+1);break;case h:ag(0);break;case h+1:ag(1);break}}};var o=function(){B=S.clientWidth;T.style.width=ae*B+"px";for(var a=0;a<ae;a++){T.children[a].style.width=B+"px"}var ag=Z=="leftLoop"?J+1:J;e(-ag*B,0)};window.addEventListener("resize",o,false);var e=function(ag,i,a){if(!!a){a=a.style}else{a=T.style}a.webkitTransitionDuration=a.MozTransitionDuration=a.msTransitionDuration=a.OTransitionDuration=a.transitionDuration=i+"ms";a.webkitTransform="translate("+ag+"px,0)translateZ(0)";a.msTransform=a.MozTransform=a.OTransform="translateX("+ag+"px)"};var M=function(a){switch(Z){case"left":if(J>=p){J=a?J-1:0}else{if(J<0){J=a?0:p-1}}if(l!=null){b(0)}e((-J*B),x);ad=J;break;case"leftLoop":if(l!=null){b(0)}e(-(J+1)*B,x);if(J==-1){aa=setTimeout(function(){e(-p*B,0)},x);J=p-1}else{if(J==p){aa=setTimeout(function(){e(-B,0)},x);J=0}}ad=J;break}ab();D=setTimeout(function(){n()},x);for(var ag=0;ag<p;ag++){u(y[ag],H.titOnClassName);if(ag==J){F(y[ag],H.titOnClassName)}}if(f==false){u(G,"nextStop");u(r,"prevStop");if(J==0){F(r,"prevStop")}else{if(J==p-1){F(G,"nextStop")}}}if(E){E.innerHTML="<span>"+(J+1)+"</span>/"+p}};M();var X=function(){if(V){Y=setInterval(function(){J++;M()},s)}};var O=function(){if(V){clearInterval(Y)}};X();if(y){for(var ac=0;ac<p;ac++){(function(){var a=ac;y[a].addEventListener("click",function(i){clearTimeout(aa);clearTimeout(D);O();J=a;M();X()})})()}}if(G){G.addEventListener("click",function(a){if(f==true||J!=p-1){clearTimeout(aa);clearTimeout(D);O();J++;M();X()}})}if(r){r.addEventListener("click",function(a){if(f==true||J!=0){clearTimeout(aa);clearTimeout(D);O();J--;M();X()}})}var j=function(i){clearTimeout(aa);clearTimeout(D);c=undefined;N=0;var a=v?i.touches[0]:i;C=a.pageX;z=a.pageY;T.addEventListener(q,A,false);T.addEventListener(w,Q,false)};var A=function(i){if(v){if(i.touches.length>1||i.scale&&i.scale!==1){return}}var a=v?i.touches[0]:i;N=a.pageX-C;L=a.pageY-z;if(typeof c=="undefined"){c=!!(c||Math.abs(N)<Math.abs(L))}if(!c){i.preventDefault();O();switch(Z){case"left":if((J==0&&N>0)||(J>=p-1&&N<0)){N=N*0.4}e(-J*B+N,0);break;case"leftLoop":e(-(J+1)*B+N,0);break}if(l!=null&&Math.abs(N)>B/3){b(N>-0?-1:1)}}};var Q=function(a){if(N==0){return}a.preventDefault();if(!c){if(Math.abs(N)>B/10){N>0?J--:J++}M(true);X()}T.removeEventListener(q,A,false);T.removeEventListener(w,Q,false)};if(!m){T.addEventListener(R,j,false)}};
